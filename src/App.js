import React from 'react';
import PropTypes from 'prop-types';
import './App.css';
import brace from 'brace';
import AceEditor from 'react-ace';
import 'brace/mode/javascript';
import 'brace/theme/github';
import Backtest from './Backtest';

const marketData = `
[{"open":196.3119876492351,"high":196.79935605414488,"low":194.99610172861003,"close":196.273005,"volume":113718697.07118307,"date":"2016-01-05T05:00:00.000Z","SAR":193.57297974709826},{"open":193.329295607616,"high":195.00584487558962,"low":192.6080001133039,"close":193.79718,"volume":156055047.84325656,"date":"2016-01-06T05:00:00.000Z","SAR":196.79935605414488},{"open":190.39534314269176,"high":192.45203781282785,"low":188.69929524401644,"close":189.147681,"volume":218967928.26822075,"date":"2016-01-07T05:00:00.000Z","SAR":196.79935605414488},{"open":190.25888027402425,"high":190.9022104688586,"low":186.7400803828842,"close":187.071487,"volume":215255233.44113687,"date":"2016-01-08T05:00:00.000Z","SAR":196.47535362173974},{"open":188.13394627803137,"high":188.52384977353026,"low":185.0245475600035,"close":187.256689,"volume":192812355.72279772,"date":"2016-01-11T05:00:00.000Z","SAR":195.8912372274084},{"open":188.9234948133779,"high":189.63504878375716,"low":186.31119237192863,"close":188.767534,"volume":176796955.5576331,"date":"2016-01-12T05:00:00.000Z","SAR":195.021902054016},{"open":189.53757000501082,"high":189.9372159965319,"low":183.62092535919038,"close":184.059554,"volume":226901146.5133606,"date":"2016-01-13T05:00:00.000Z","SAR":194.22211369449502},{"open":184.76136514105792,"high":188.3776309059411,"low":182.9191135460778,"close":187.081229,"volume":247036530.97356334,"date":"2016-01-14T05:00:00.000Z","SAR":193.16199486096457},{"open":182.05159756788493,"high":183.9913150435868,"low":180.8331765576254,"close":183.065318,"volume":322384665.63895845,"date":"2016-01-15T05:00:00.000Z","SAR":191.93284910317814},{"open":185.16101070618436,"high":185.30721537883352,"low":181.49599056399538,"close":183.309002,"volume":200304737.2082207,"date":"2016-01-19T05:00:00.000Z","SAR":190.37889494680076},{"open":180.35555105124385,"high":182.76315194763754,"low":176.44686131527442,"close":180.959883,"volume":293974534.403922,"date":"2016-01-20T05:00:00.000Z","SAR":189.0424943723162},{"open":181.50574820490556,"high":184.09853642254453,"low":179.9754036153815,"close":181.973617,"volume":200846934.2703992,"date":"2016-01-21T05:00:00.000Z","SAR":187.02719308318953},{"open":184.98555088668348,"high":185.9407890618441,"low":184.10829360582161,"close":185.706861,"volume":172682100.66443586,"date":"2016-01-22T05:00:00.000Z","SAR":176.44686131527442},{"open":185.12201295141116,"high":185.34619851869815,"low":182.67542940744983,"close":182.899614,"volume":133750668.59150559,"date":"2016-01-25T05:00:00.000Z","SAR":176.63673987020582},{"open":183.659907456098,"high":185.71660309618755,"low":183.27001858122927,"close":185.394938,"volume":144692186.45489448,"date":"2016-01-26T05:00:00.000Z","SAR":176.82282085403858},{"open":184.79060645075984,"high":186.72058143625478,"low":182.3342657897953,"close":183.377241,"volume":190494190.87621948,"date":"2016-01-27T05:00:00.000Z","SAR":177.00518021819468},{"open":185.16101113640917,"high":185.39493822329663,"low":182.43174514588424,"close":184.332479,"volume":147525771.68887746,"date":"2016-01-28T05:00:00.000Z","SAR":177.3937962669171},{"open":185.2194927235421,"high":188.9819777887059,"low":185.08303054474013,"close":188.826016,"volume":215985789.83167922,"date":"2016-01-29T05:00:00.000Z","SAR":177.7668676736906},{"open":187.66607664884424,"high":189.6642900292347,"low":186.99350532718785,"close":188.757777,"volume":139588039.45667574,"date":"2016-02-01T05:00:00.000Z","SAR":178.4397742805915},{"open":187.11048417569282,"high":187.1202256953358,"low":184.75160745794008,"close":185.355955,"volume":187296610.53651932,"date":"2016-02-02T05:00:00.000Z","SAR":179.33773554048295},{"open":186.5743770240224,"high":186.93502477066266,"low":182.37326331512358,"close":186.467155,"volume":210369504.40502352,"date":"2016-02-03T05:00:00.000Z","SAR":180.1638598995831},{"open":185.8920642121851,"high":187.88052048521334,"low":185.16101160329322,"close":186.759579,"volume":143148179.38838255,"date":"2016-02-04T05:00:00.000Z","SAR":180.92389430995522},{"open":186.16498769195994,"high":186.82780189773797,"low":182.47072739455623,"close":183.20178,"volume":185473964.51407346,"date":"2016-02-05T05:00:00.000Z","SAR":181.62312596749757},{"open":181.07686073123992,"high":181.41800984142773,"low":178.18189143658114,"close":180.735697,"volume":196490681.81006104,"date":"2016-02-08T05:00:00.000Z","SAR":189.6642900292347},{"open":178.72774161074062,"high":182.21730034876762,"low":178.57177982293126,"close":180.745439,"volume":189295304.10672382,"date":"2016-02-09T05:00:00.000Z","SAR":189.43464205738164},{"open":181.70069296532196,"high":183.58192721398134,"low":180.4432737056158,"close":180.589493,"volume":152055506.9051354,"date":"2016-02-10T05:00:00.000Z","SAR":189.20958704496562},{"open":177.73350598526193,"high":179.4490525177359,"low":176.51508497311286,"close":178.240374,"volume":224736459.95075673,"date":"2016-02-11T05:00:00.000Z","SAR":188.9890331327979},{"open":180.28732747430374,"high":181.93462001412462,"low":179.3125906628248,"close":181.915136,"volume":130940371.28478415,"date":"2016-02-12T05:00:00.000Z","SAR":188.49007520641052},{"open":184.00107169466366,"high":185.01479212959052,"low":182.88987270496168,"close":184.985551,"volume":123367352.76015857,"date":"2016-02-16T05:00:00.000Z","SAR":188.01107559707862},{"open":186.33069271015913,"high":188.4361271463607,"low":186.1844734158618,"close":188.007241,"volume":139534588.67069647,"date":"2016-02-17T05:00:00.000Z","SAR":176.51508497311286},{"open":188.31914883421842,"high":188.38738723410017,"low":186.8765422538568,"close":187.23719,"volume":104995521.77977037,"date":"2016-02-18T05:00:00.000Z","SAR":176.7535058165778},{"open":186.34043350047426,"high":187.3249128021548,"low":185.63862202448746,"close":187.149467,"volume":117768200.75047289,"date":"2016-02-19T05:00:00.000Z","SAR":176.98715824317347},{"open":188.97222060337842,"high":190.0249383083337,"low":188.89423970905432,"close":189.859235,"volume":106326445.11793013,"date":"2016-02-22T05:00:00.000Z","SAR":177.2161376212372},{"open":189.0989410165735,"high":189.41086361872755,"low":187.32491320037374,"close":187.46139,"volume":114343994.12160072,"date":"2016-02-23T05:00:00.000Z","SAR":177.72848964872108},{"open":185.8140831931056,"high":188.64081409717028,"low":184.5371799199047,"close":188.319149,"volume":154720944.43015668,"date":"2016-02-24T05:00:00.000Z","SAR":178.22034759510558},{"open":188.8357582981497,"high":190.60978611546787,"low":187.95850101759007,"close":190.600029,"volume":113598151.69231638,"date":"2016-02-25T05:00:00.000Z","SAR":178.69253122363472},{"open":191.60402220573016,"high":191.7112296088734,"low":189.97619905600692,"close":190.161401,"volume":133198724.24407096,"date":"2016-02-26T05:00:00.000Z","SAR":179.40756651714472},{"open":190.18089997975747,"high":191.2726003333074,"low":188.44586943264025,"close":188.670055,"volume":129181640.31999567,"date":"2016-02-29T05:00:00.000Z","SAR":180.391859564483},{"open":190.08342004689834,"high":193.202589529217,"low":189.53756938391348,"close":193.10511,"volume":145474859.30745023,"date":"2016-03-01T05:00:00.000Z","SAR":181.29740916803425},{"open":192.74446149428704,"high":194.0311072590691,"low":192.26683558417085,"close":193.972625,"volume":105069388.01287037,"date":"2016-03-02T05:00:00.000Z","SAR":182.48792720415253},{"open":193.7679237093177,"high":194.75241763515456,"low":193.10511047616393,"close":194.732919,"volume":97638869.27010939,"date":"2016-03-03T05:00:00.000Z","SAR":183.8731088107425},{"open":194.9571044892844,"high":196.26326253675495,"low":194.00186631445678,"close":195.366492,"volume":132644626.40269345,"date":"2016-03-04T05:00:00.000Z","SAR":185.3962120461602},{"open":194.3040319863718,"high":195.99033739133816,"low":194.2163095723378,"close":195.522453,"volume":102816471.97380446,"date":"2016-03-07T05:00:00.000Z","SAR":187.13494012465537},{"open":194.2845475355934,"high":194.86938084818917,"low":193.20258967792327,"close":193.387777,"volume":127188076.71154211,"date":"2016-03-08T05:00:00.000Z","SAR":188.5954717105913},{"open":194.32353136485793,"high":194.74266039515243,"low":193.41701833390357,"close":194.34303,"volume":97258253.76915242,"date":"2016-03-09T05:00:00.000Z","SAR":189.8223182427775},{"open":194.9083791060012,"high":195.99033696374255,"low":192.3935561898856,"close":194.498976,"volume":160903639.41108412,"date":"2016-03-10T05:00:00.000Z","SAR":190.8528693298139},{"open":196.17552479034066,"high":197.6863697645324,"low":194.4794915197671,"close":197.63763,"volume":141540258.95866844,"date":"2016-03-11T05:00:00.000Z","SAR":191.71853224292445},{"open":197.05279738358922,"high":197.9105550541757,"low":196.67265002773738,"close":197.384204,"volume":75519872.90735787,"date":"2016-03-14T04:00:00.000Z","SAR":192.3935561898856},{"open":196.27300510782288,"high":197.4134452264646,"low":195.97083864608643,"close":197.062539,"volume":95583853.0054756,"date":"2016-03-15T04:00:00.000Z","SAR":193.4969559627436},{"open":196.5069466983656,"high":198.67086339079523,"low":196.4582069336666,"close":198.202979,"volume":132654475.24271168,"date":"2016-03-16T04:00:00.000Z","SAR":194.37967578103002},{"open":198.10551383616487,"high":200.0452313124774,"low":197.64738656142626,"close":199.460398,"volume":137758725.04973394,"date":"2016-03-17T04:00:00.000Z","SAR":195.23791330298306},{"open":200.03844766694073,"high":200.63610478752943,"low":199.6759398246057,"close":200.244205,"volume":141230313.27604213,"date":"2016-03-18T04:00:00.000Z","SAR":196.19937690488192},{"open":199.94048031797172,"high":200.79287024401427,"low":199.67594007395746,"close":200.52833,"volume":74432912.01371197,"date":"2016-03-21T04:00:00.000Z","SAR":197.0867224814114},{"open":199.63674073118256,"high":201.0769950289488,"low":199.45059729759032,"close":200.420555,"volume":99485063.64058417,"date":"2016-03-22T04:00:00.000Z","SAR":197.82795203393198},{"open":199.97966386624793,"high":200.19521296141568,"low":198.901917410645,"close":199.097882,"volume":82726540.9702726,"date":"2016-03-23T04:00:00.000Z","SAR":198.47776063293534},{"open":197.91236103565285,"high":199.0488913844192,"low":197.65762725195253,"close":199.009692,"volume":86103271.72505498,"date":"2016-03-24T04:00:00.000Z","SAR":201.0769950289488},{"open":199.48978282236942,"high":199.73472386387354,"low":198.60800095153962,"close":199.127274,"volume":63697165.26145484,"date":"2016-03-28T04:00:00.000Z","SAR":201.00860767340887},{"open":198.6569765778022,"high":201.0965942398741,"low":198.30426049973667,"close":200.96922,"volume":94842109.56974156,"date":"2016-03-29T04:00:00.000Z","SAR":197.65762725195253},{"open":202.12534998617443,"high":202.6838077215789,"low":201.42971057133818,"close":201.851017,"volume":88149070.12066825,"date":"2016-03-30T04:00:00.000Z","SAR":197.72640659171097},{"open":201.7432430241415,"high":202.23312510637425,"low":201.1749778492232,"close":201.361135,"volume":96537619.38884781,"date":"2016-03-31T04:00:00.000Z","SAR":197.9247026369057},{"open":200.21481293483674,"high":202.94834809599794,"low":199.85229039625645,"close":202.732799,"volume":116786778.00503805,"date":"2016-04-01T04:00:00.000Z","SAR":198.11506684029263},{"open":202.64462417514045,"high":202.87977247352492,"low":201.72364292089037,"close":202.076359,"volume":64808453.174871385,"date":"2016-04-04T04:00:00.000Z","SAR":198.40506371563495},{"open":200.5283298805879,"high":202.08615196511806,"low":199.7641148109296,"close":200.058047,"volume":101720601.20793042,"date":"2016-04-05T04:00:00.000Z","SAR":198.67766077845673},{"open":200.05804683088812,"high":202.311507349906,"low":199.85229047763258,"close":202.242917,"volume":93736639.15419297,"date":"2016-04-06T04:00:00.000Z","SAR":198.9339020175092},{"open":200.98881931288824,"high":201.40031928136878,"low":198.98029984049674,"close":199.822898,"volume":116210619.20752946,"date":"2016-04-07T04:00:00.000Z","SAR":202.94834809599794},{"open":201.1847689764935,"high":201.6844584964334,"low":199.7445146795166,"close":200.361771,"volume":97003548.1469167,"date":"2016-04-08T04:00:00.000Z","SAR":202.86898713088792},{"open":201.09659500472318,"high":201.90000847892557,"low":199.7837149417758,"close":199.891489,"volume":85487409.04636514,"date":"2016-04-11T04:00:00.000Z","SAR":202.79121338508008},{"open":200.08743885794442,"high":202.07635913414296,"low":199.57795757282835,"close":201.753035,"volume":117733026.03006095,"date":"2016-04-12T04:00:00.000Z","SAR":202.7149951141884},{"open":202.81118183653845,"high":203.88892829493113,"low":202.65441565132795,"close":203.790946,"volume":98326111.1119235,"date":"2016-04-13T04:00:00.000Z","SAR":198.98029984049674},{"open":203.85953560676333,"high":204.37880963174115,"low":203.39904547185066,"close":203.800738,"volume":66559793.33566251,"date":"2016-04-14T04:00:00.000Z","SAR":199.07847240958543},{"open":203.8007388386455,"high":203.95750404416552,"low":203.20308171888874,"close":203.575397,"volume":77326363.61867638,"date":"2016-04-15T04:00:00.000Z","SAR":199.29048589847167},{"open":203.57539743900378,"high":205.0450436880564,"low":202.8111823692606,"close":205.005859,"volume":76832469.08757131,"date":"2016-04-18T04:00:00.000Z","SAR":199.49401884780247},{"open":205.49574051127632,"high":205.94642418828522,"low":204.71192624133656,"close":205.652492,"volume":90140161.58920845,"date":"2016-04-19T04:00:00.000Z","SAR":199.8270803382177},{"open":205.7014835573333,"high":206.65185577740098,"low":205.15281758431524,"close":205.848457,"volume":82775327.85490736,"date":"2016-04-20T04:00:00.000Z","SAR":200.3166278462231},{"open":205.86804090819433,"high":205.99541514812933,"low":204.4277866096775,"close":204.741318,"volume":87464926.03752312,"date":"2016-04-21T04:00:00.000Z","SAR":200.95015063934088},{"open":204.32981901131328,"high":205.05483469386007,"low":203.70277092713067,"close":204.741318,"volume":101301623.193867,"date":"2016-04-22T04:00:00.000Z","SAR":201.52032115314688},{"open":204.0456796644039,"high":204.4375941474369,"low":203.34024750759565,"close":204.388603,"volume":67533088.58012256,"date":"2016-04-25T04:00:00.000Z","SAR":202.0334746155723},{"open":204.80989380075388,"high":205.28019137645842,"low":204.14366200794396,"close":204.692327,"volume":77431082.75998835,"date":"2016-04-26T04:00:00.000Z","SAR":202.49531273175515},{"open":204.25143663522812,"high":205.56431767817924,"low":203.83993764509802,"close":205.113634,"volume":78926544.46352601,"date":"2016-04-27T04:00:00.000Z","SAR":202.91096703631973},{"open":204.24164460385367,"high":205.51532626062,"low":202.77199835700412,"close":203.252073,"volume":99224082.19842067,"date":"2016-04-28T04:00:00.000Z","SAR":206.65185577740098},{"open":202.53684904435147,"high":202.9385562708118,"low":200.88104564698864,"close":202.154742,"volume":145365696.3330012,"date":"2016-04-29T04:00:00.000Z","SAR":206.57425862899305},{"open":202.73279868934986,"high":203.9672966361582,"low":202.23312484470398,"close":203.761554,"volume":63472417.48160205,"date":"2016-05-02T04:00:00.000Z","SAR":206.3465301097129},{"open":202.34089909909363,"high":202.61523208529115,"low":201.12598663672813,"close":201.988184,"volume":103359056.9093388,"date":"2016-05-03T04:00:00.000Z","SAR":206.1279107312039},{"open":200.841860514397,"high":201.6844586736792,"low":200.28338808357665,"close":200.861446,"volume":94148983.5574568,"date":"2016-05-04T04:00:00.000Z","SAR":205.9180361278353},{"open":201.40031991840345,"high":201.8118189084214,"low":200.33237991720682,"close":200.822262,"volume":69015792.14170589,"date":"2016-05-05T04:00:00.000Z","SAR":205.5799572451798},{"open":199.9306735468363,"high":201.60607614754164,"low":199.75432285548857,"close":201.557085,"volume":85515375.02035664,"date":"2016-05-06T04:00:00.000Z","SAR":205.2621630954836},{"open":201.41012630523886,"high":202.22331782544788,"low":201.20436995195502,"close":201.723643,"volume":75911022.91675894,"date":"2016-05-09T04:00:00.000Z","SAR":204.821535876284},{"open":202.53684891572266,"high":204.2514362023322,"low":202.45846582309218,"close":204.231837,"volume":79072293.9909873,"date":"2016-05-10T04:00:00.000Z","SAR":204.41615883462038},{"open":203.70277139121163,"high":204.32001203753464,"low":202.3213,"close":202.3213,"volume":83414971.63175602,"date":"2016-05-11T04:00:00.000Z","SAR":199.75432285548857},{"open":203.09530593822635,"high":203.29127052746398,"low":201.21416070990466,"close":202.380083,"volume":91436596.30195625,"date":"2016-05-12T04:00:00.000Z","SAR":199.84563663912948},{"open":202.037174792691,"high":202.6740156196844,"low":200.24420441591886,"close":200.616505,"volume":98467165.56859069,"date":"2016-05-13T04:00:00.000Z","SAR":199.93512414709758},{"open":200.81247005833202,"high":203.14429799294788,"low":200.74387872868866,"close":202.595633,"volume":79087195.46049248,"date":"2016-05-16T04:00:00.000Z","SAR":200.02282190490632},{"open":202.28211628479454,"high":202.61523218170703,"low":200.09723142029694,"close":200.704695,"volume":117298533.82129104,"date":"2016-05-17T04:00:00.000Z","SAR":204.32001203753464},{"open":200.30298688514472,"high":202.12534920301127,"low":199.50938085461846,"close":200.763478,"volume":122541836.97319888,"date":"2016-05-18T04:00:00.000Z","SAR":204.23555642518988},{"open":199.93067299704379,"high":200.40095489612142,"low":198.6765758490788,"close":200.067839,"volume":117814576.65321462,"date":"2016-05-19T04:00:00.000Z","SAR":204.04650940236704},{"open":200.7732705680576,"high":201.92940011992533,"low":200.7144876574982,"close":201.331743,"volume":107158848.87040392,"date":"2016-05-20T04:00:00.000Z","SAR":203.72431338916974},{"open":201.35132849209904,"high":201.67465164605915,"low":200.84186092434106,"close":201.057411,"volume":59894617.64619161,"date":"2016-05-23T04:00:00.000Z","SAR":203.4214491367643},{"open":201.99797585944452,"high":204.02609453854973,"low":201.9685839142702,"close":203.663572,"volume":95469709.32195474,"date":"2016-05-24T04:00:00.000Z","SAR":198.6765758490788},{"open":204.44738588095996,"high":205.525132338567,"low":203.66357161146956,"close":205.045043,"volume":78203921.83476779,"date":"2016-05-25T04:00:00.000Z","SAR":198.78356622286822},{"open":205.20180829490246,"high":205.46634951778054,"low":204.74131815844606,"close":205.103826,"volume":56422455.6048857,"date":"2016-05-26T04:00:00.000Z","SAR":199.05322886749616},{"open":205.28998456409082,"high":205.99541574283163,"low":205.23120067370442,"close":205.985623,"volume":60554368.18833225,"date":"2016-05-27T04:00:00.000Z","SAR":199.31210500633898},{"open":206.29914015673438,"high":206.4265134169532,"low":204.9470607132686,"close":205.593708,"volume":112148825.37398665,"date":"2016-05-31T04:00:00.000Z","SAR":199.71310365052855},{"open":204.88827739179064,"high":206.22075763664293,"low":204.6629355527809,"close":206.015015,"volume":71380646.95791614,"date":"2016-06-01T04:00:00.000Z","SAR":200.25017643184253},{"open":205.55452380213407,"high":206.6616475058033,"low":205.00585783180924,"close":206.642063,"volume":64346811.7581598,"date":"2016-06-02T04:00:00.000Z","SAR":200.7442833906514},{"open":205.99541505490498,"high":206.42651324570159,"low":204.63354384952612,"close":206.024807,"volume":103858769.23181827,"date":"2016-06-03T04:00:00.000Z","SAR":201.3360198021666},{"open":206.43630647533794,"high":207.48466098947094,"low":206.25014932459567,"close":207.073162,"volume":66227161.969555475,"date":"2016-06-06T04:00:00.000Z","SAR":201.86858257253027},{"open":207.24951225425224,"high":208.0431182863565,"low":207.22012030914985,"close":207.396471,"volume":62234160.3738108,"date":"2016-06-07T04:00:00.000Z","SAR":202.54251198256316},{"open":207.55323697187052,"high":208.21948444275304,"low":207.40627822557994,"close":208.072511,"volume":67537579.25353965,"date":"2016-06-08T04:00:00.000Z","SAR":203.31259686509424},{"open":207.22991356779633,"high":207.92555200328783,"low":206.91639589345522,"close":207.788386,"volume":75310878.53761855,"date":"2016-06-09T04:00:00.000Z","SAR":204.09769887751963},{"open":206.20117302435017,"high":206.59307281176538,"low":205.19200221770137,"close":205.819065,"volume":116180203.42675447,"date":"2016-06-10T04:00:00.000Z","SAR":204.75718456795698},{"open":205.12342630809366,"high":206.11298223492332,"low":204.13386940149982,"close":204.231837,"volume":120183207.70794612,"date":"2016-06-13T04:00:00.000Z","SAR":208.21948444275304},{"open":203.79094629175458,"high":204.5159766725749,"low":202.7327990341729,"close":203.83013,"volume":127642247.47629264,"date":"2016-06-14T04:00:00.000Z","SAR":208.13777214192797},{"open":203.83012974911176,"high":205.12342628325396,"low":203.33045590423103,"close":203.546005,"volume":111378333.73344763,"date":"2016-06-15T04:00:00.000Z","SAR":207.92157321761778},{"open":203.54600511700355,"high":204.3494185900143,"low":201.4297106032286,"close":204.153454,"volume":152621524.0979195,"date":"2016-06-16T04:00:00.000Z","SAR":207.71402225027998},{"open":204.0333096686541,"high":204.06285446430908,"low":202.6348113606951,"close":203.393157,"volume":118855245.61783955,"date":"2016-06-17T04:00:00.000Z","SAR":207.3369635514569},{"open":205.6583355505948,"high":206.4363685248728,"low":204.60452915623202,"close":204.703021,"volume":84062359.08329658,"date":"2016-06-20T04:00:00.000Z","SAR":206.9825283745632},{"open":205.14620567578126,"high":205.75681354883037,"low":204.63407487405377,"close":205.284085,"volume":73575683.63335814,"date":"2016-06-21T04:00:00.000Z","SAR":206.64935930828312},{"open":205.49089682248535,"high":206.32803317651033,"low":204.78179710785471,"close":204.949236,"volume":97029591.38312182,"date":"2016-06-22T04:00:00.000Z","SAR":206.4363685248728},{"open":206.6333376528641,"high":207.6772856062501,"low":206.1015195145668,"close":207.618197,"volume":104310732.59217833,"date":"2016-06-23T04:00:00.000Z","SAR":201.4297106032286},{"open":200.54691414608115,"high":207.65759963018562,"low":199.65068819912113,"close":200.162819,"volume":338570579.0005985,"date":"2016-06-24T04:00:00.000Z","SAR":207.6772856062501},{"open":198.53779225622006,"high":198.54765069830506,"low":195.6423037999929,"close":196.577932,"volume":234323611.99452844,"date":"2016-06-27T04:00:00.000Z","SAR":207.6772856062501},{"open":198.42945694131254,"high":200.1529607954981,"low":198.07490659216356,"close":200.123416,"volume":161832652.31617275,"date":"2016-06-28T04:00:00.000Z","SAR":207.65759963018562},{"open":201.73858411478525,"high":203.79693718946578,"low":201.62040591778484,"close":203.531036,"volume":139439810.1787012,"date":"2016-06-29T04:00:00.000Z","SAR":207.1769877969779},{"open":204.0727121165227,"high":206.3674206062219,"low":203.43254467745618,"close":206.308332,"volume":167558850.46810615,"date":"2016-06-30T04:00:00.000Z","SAR":206.7156004370985},{"open":206.308331917921,"high":207.3030487213913,"low":206.12120568755103,"close":206.741672,"volume":107685732.38533835,"date":"2016-07-01T04:00:00.000Z","SAR":195.6423037999929},{"open":205.78635715220457,"high":205.91439379133203,"low":204.56514141318178,"close":205.25454,"volume":111491758.26373827,"date":"2016-07-05T04:00:00.000Z","SAR":195.87551869842088},{"open":204.68331943078294,"high":206.62349332329902,"low":203.92497379647466,"close":206.485614,"volume":97497678.81691748,"date":"2016-07-06T04:00:00.000Z","SAR":196.1040692988803},{"open":206.6924262385555,"high":207.46061554438575,"low":205.47121049682193,"close":206.357578,"volume":86909669.13948855,"date":"2016-07-07T04:00:00.000Z","SAR":196.3280488873305},{"open":207.85456791026763,"high":209.71595108919055,"low":207.58865194743277,"close":209.430334,"volume":136030592.140363,"date":"2016-07-08T04:00:00.000Z","SAR":196.7733515536127},{"open":209.96216641574958,"high":210.82884756647582,"low":209.72579524788114,"close":210.168979,"volume":74765904.52578922,"date":"2016-07-11T04:00:00.000Z","SAR":197.5499075257474},{"open":211.28187504335943,"high":212.04022068112215,"low":210.19852385088146,"close":211.695514,"volume":102832551.83278565,"date":"2016-07-12T04:00:00.000Z","SAR":198.61222272900565},{"open":212.17809980014954,"high":212.18794346932802,"low":211.10460705078648,"close":211.665969,"volume":88666569.71840286,"date":"2016-07-13T04:00:00.000Z","SAR":199.9550225242173},{"open":213.12355663210718,"high":213.389472595048,"low":212.39477056443198,"close":212.847797,"volume":92633430.69435433,"date":"2016-07-14T04:00:00.000Z","SAR":201.42297303763058},{"open":213.49780842580822,"high":213.7243221363591,"low":212.0500641997196,"close":212.562195,"volume":108802744.5158383,"date":"2016-07-15T04:00:00.000Z","SAR":203.09828297566904},{"open":212.70007393319685,"high":213.32054024545232,"low":212.4046131748289,"close":213.133415,"volume":59628717.78647941,"date":"2016-07-18T04:00:00.000Z","SAR":204.79844924137944},{"open":212.65082903587054,"high":212.95613346487235,"low":212.36522671817974,"close":212.916745,"volume":55181178.87670789,"date":"2016-07-19T04:00:00.000Z","SAR":206.22658890457618},{"open":212.91674449561563,"high":214.07887163268654,"low":212.91674449561563,"close":213.803112,"volume":59053610.13810688,"date":"2016-07-20T04:00:00.000Z","SAR":207.42622622166144},{"open":213.67509090427882,"high":213.93114842544477,"low":212.48340419991854,"close":212.995535,"volume":68819268.63917218,"date":"2016-07-21T04:00:00.000Z","SAR":208.62370239564595},{"open":213.1334157550926,"high":214.00993959124864,"low":212.82811132648013,"close":213.95085,"volume":63752758.233666755,"date":"2016-07-22T04:00:00.000Z","SAR":209.60563285831324},{"open":213.7144786812226,"high":213.7735682724296,"low":212.7000745368577,"close":213.369772,"volume":56732060.33965017,"date":"2016-07-25T04:00:00.000Z","SAR":210.41081583770043},{"open":213.25159395825483,"high":213.8819029570633,"low":212.4932483197171,"close":213.468264,"volume":71157876.54037417,"date":"2016-07-26T04:00:00.000Z","SAR":211.07106588079793},{"open":213.9016037935391,"high":213.98039451110947,"low":212.3553677229345,"close":213.24175,"volume":85376556.72182207,"date":"2016-07-27T04:00:00.000Z","SAR":211.61247091613788},{"open":213.01522167907626,"high":213.8228142240472,"low":212.4834045246869,"close":213.487965,"volume":66035520.78049365,"date":"2016-07-28T04:00:00.000Z","SAR":212.05642304511665},{"open":213.1826616477612,"high":214.24629595699562,"low":212.85765609276703,"close":213.832657,"volume":80741884.67107247,"date":"2016-07-29T04:00:00.000Z","SAR":212.3553677229345},{"open":213.90160383708664,"high":214.35463125845123,"low":213.1334155150951,"close":213.655389,"volume":74438446.58944127,"date":"2016-08-01T04:00:00.000Z","SAR":212.4834045246869},{"open":213.36977141694305,"high":213.54705397811045,"low":211.32127678028863,"close":212.286435,"volume":93714397.25711395,"date":"2016-08-02T04:00:00.000Z","SAR":214.35463125845123},{"open":212.21748741407563,"high":212.97583304806565,"low":211.87279550755852,"close":212.906886,"volume":54823666.29534378,"date":"2016-08-03T04:00:00.000Z","SAR":214.35463125845123},{"open":213.03492315624734,"high":213.49780803371084,"low":211.0061148732755,"close":213.133415,"volume":47301678.34706725,"date":"2016-08-04T04:00:00.000Z","SAR":214.29396416888798},{"open":213.13341479278725,"high":214.9258509218285,"low":213.13341479278725,"close":214.876605,"volume":72997428.88600925,"date":"2016-08-05T04:00:00.000Z","SAR":211.0061148732755},{"open":215.0932759084094,"high":215.21146887888065,"low":214.44327957153442,"close":214.748584,"volume":40519999.166651085,"date":"2016-08-08T04:00:00.000Z","SAR":211.0061148732755},{"open":214.82737385106174,"high":215.4478253898238,"low":214.50236829749014,"close":214.876605,"volume":52039613.839012854,"date":"2016-08-09T04:00:00.000Z","SAR":211.1743290334997},{"open":215.00464277979722,"high":215.09327618188084,"low":213.94099271182614,"close":214.344788,"volume":58831852.473403275,"date":"2016-08-10T04:00:00.000Z","SAR":211.43073881487913},{"open":214.95539584008657,"high":215.62510708909045,"low":214.65009141267817,"close":215.33949,"volume":73618938.91349979,"date":"2016-08-11T04:00:00.000Z","SAR":211.6717640093758},{"open":214.98494012285437,"high":215.3985948369335,"low":214.6894941368463,"close":215.15238,"volume":62256097.93019487,"date":"2016-08-12T04:00:00.000Z","SAR":211.98803145575297},{"open":215.57586208462553,"high":216.17662727283994,"low":215.56601940028403,"close":215.772831,"volume":50579303.54422611,"date":"2016-08-15T04:00:00.000Z","SAR":212.27899750641998},{"open":215.29025899673286,"high":215.36903494126037,"low":214.65995,"close":214.65995,"volume":54031674.88157525,"date":"2016-08-16T04:00:00.000Z","SAR":212.668760483062},{"open":214.6993379653647,"high":215.2213124351918,"low":213.7341797433064,"close":215.063731,"volume":76289370.7787879,"date":"2016-08-17T04:00:00.000Z","SAR":213.01954716203977},{"open":215.03418521685344,"high":215.58570447974225,"low":214.90616433559376,"close":215.546317,"volume":53803926.74948513,"date":"2016-08-18T04:00:00.000Z","SAR":213.33525517311978},{"open":215.00464227427557,"high":215.43798235707823,"low":214.4432793399777,"close":215.231155,"volume":76602816.59455389,"date":"2016-08-19T04:00:00.000Z","SAR":213.6193923830918},{"open":214.95539603701476,"high":215.48722796298526,"low":214.53191341204658,"close":215.221312,"volume":62312248.159843944,"date":"2016-08-22T04:00:00.000Z","SAR":213.8751158720666},{"open":215.93041163204816,"high":216.27511831233866,"low":215.5857049517577,"close":215.654652,"volume":54220128.19551511,"date":"2016-08-23T04:00:00.000Z","SAR":214.10526701214394},{"open":215.48722842658466,"high":215.59556393978917,"low":214.069028994893,"close":214.551615,"volume":72831618.141739,"date":"2016-08-24T04:00:00.000Z","SAR":216.27511831233866},{"open":214.10841624116665,"high":214.88646300458032,"low":213.93114845262895,"close":214.403877,"volume":70289021.65013368,"date":"2016-08-25T04:00:00.000Z","SAR":216.27511831233866},{"open":214.6205473140212,"high":215.80237557796593,"low":212.97583417129567,"close":214.000081,"volume":124389640.15838808,"date":"2016-08-26T04:00:00.000Z","SAR":216.18135951795028},{"open":214.14781838560157,"high":215.35919144299794,"low":214.108416132846,"close":215.053888,"volume":71586059.68798946,"date":"2016-08-29T04:00:00.000Z","SAR":215.989027997151},{"open":214.95539650634547,"high":215.2804010762507,"low":214.0591853325506,"close":214.699338,"volume":59007918.31971089,"date":"2016-08-30T04:00:00.000Z","SAR":215.80823636759968},{"open":214.3152437106105,"high":214.45312303447596,"low":213.19250405385134,"close":214.08873,"volume":86580383.4529146,"date":"2016-08-31T04:00:00.000Z","SAR":215.63829223582144},{"open":214.07887187357287,"high":214.43342222424735,"low":212.75916428469844,"close":214.098573,"volume":99348399.39430983,"date":"2016-09-01T04:00:00.000Z","SAR":215.4785447519499},{"open":215.08343212640668,"high":215.55616067423247,"low":214.40387720624716,"close":215.063731,"volume":80512918.03605184,"date":"2016-09-02T04:00:00.000Z","SAR":212.75916428469844},{"open":215.3887364454527,"high":215.8023754018795,"low":214.5614585325992,"close":215.713742,"volume":57573804.94701121,"date":"2016-09-06T04:00:00.000Z","SAR":212.75916428469844},{"open":215.52661489638334,"high":215.90086637139112,"low":214.99479774465144,"close":215.69404,"volume":77731810.60647526,"date":"2016-09-07T04:00:00.000Z","SAR":212.8808927293857},{"open":215.30994552817572,"high":215.62510741324772,"low":214.847060650202,"close":215.201611,"volume":75242114.74646209,"date":"2016-09-08T04:00:00.000Z","SAR":213.06209114790602},{"open":213.68493295074893,"high":213.7440225416974,"low":210.02125520452577,"close":210.0508,"volume":224995682.12266225,"date":"2016-09-09T04:00:00.000Z","SAR":215.90086637139112},{"open":209.17427651914872,"high":213.52735386456726,"low":209.09548678623005,"close":213.064468,"volume":170695338.24643347,"date":"2016-09-12T04:00:00.000Z","SAR":215.7832741480538},{"open":211.5871775439783,"high":211.89248197092624,"low":209.28261061825467,"close":210.001554,"volume":185639503.85188484,"date":"2016-09-13T04:00:00.000Z","SAR":215.51576265358085},{"open":210.06064332378378,"high":211.4492989431269,"low":209.282611333313,"close":209.922764,"volume":136248389.5261926,"date":"2016-09-14T04:00:00.000Z","SAR":215.2589516188868},{"open":209.7356531963921,"high":212.46370275107594,"low":209.52882583973815,"close":212.020519,"volume":136494516.2575142,"date":"2016-09-15T04:00:00.000Z","SAR":215.01241302558054},{"open":211.309811757348,"high":211.51768288887976,"low":210.40907347791102,"close":211.200929,"volume":156830701.68606123,"date":"2016-09-16T04:00:00.000Z","SAR":214.77573597600653},{"open":211.95321264898462,"high":212.69558833559958,"low":210.8643890362772,"close":211.240531,"volume":81074685.0754792,"date":"2016-09-19T04:00:00.000Z","SAR":214.54852600841548},{"open":212.23036584810436,"high":212.40852809472105,"low":211.21083755877518,"close":211.250424,"volume":70380773.23181798,"date":"2016-09-20T04:00:00.000Z","SAR":214.33040443952805},{"open":212.06209490360257,"high":213.83389227405578,"low":211.27022453322442,"close":213.626035,"volume":111417037.62835275,"date":"2016-09-21T04:00:00.000Z","SAR":214.12100773339614},{"open":214.79403176424267,"high":215.31864292572203,"low":214.50698676123156,"close":214.972195,"volume":77466202.21861297,"date":"2016-09-22T04:00:00.000Z","SAR":209.09548678623005},{"open":214.51688004449238,"high":214.67525748412078,"low":213.6854232322997,"close":213.794305,"volume":74387100.53176813,"date":"2016-09-23T04:00:00.000Z","SAR":209.2199499090199},{"open":212.83416472637023,"high":213.0420220005205,"low":211.83442322380233,"close":212.062095,"volume":90749840.04631521,"date":"2016-09-26T04:00:00.000Z","SAR":209.34192376935394},{"open":211.87402398208266,"high":213.48744390971777,"low":211.44838733631028,"close":213.378576,"volume":79300953.74459524,"date":"2016-09-27T04:00:00.000Z","SAR":209.4614581524813},{"open":213.63592822674167,"high":214.61586908373204,"low":212.52731881555187,"close":214.437691,"volume":88308724.38646525,"date":"2016-09-28T04:00:00.000Z","SAR":209.57860184794612},{"open":214.2001248929347,"high":214.6653479783836,"low":211.8641150825673,"close":212.497609,"volume":129385905.28567217,"date":"2016-09-29T04:00:00.000Z","SAR":209.69340266950164},{"open":213.4577498297265,"high":214.91280716539907,"low":213.1707048263941,"close":214.101151,"volume":118406591.94591953,"date":"2016-09-30T04:00:00.000Z","SAR":209.80590747462605},{"open":213.62603428858588,"high":213.84378396542198,"low":212.85394971762406,"close":213.586433,"volume":84369782.30020772,"date":"2016-10-03T04:00:00.000Z","SAR":209.91616218364797},{"open":213.71511601074272,"high":213.9724669756943,"low":211.8146352482788,"close":212.497609,"volume":121179985.92804542,"date":"2016-10-04T04:00:00.000Z","SAR":210.02421179848946},{"open":213.220199475448,"high":213.93288112435843,"low":213.14101075588215,"close":213.437964,"volume":73563831.61563517,"date":"2016-10-05T04:00:00.000Z","SAR":210.13010042103411},{"open":213.18059699906584,"high":213.84378396542198,"low":212.55701132129565,"close":213.586433,"volume":63573674.218683176,"date":"2016-10-06T04:00:00.000Z","SAR":210.23387127112787},{"open":213.90318717190294,"high":214.1011510522224,"low":212.01259979676385,"close":212.85395,"volume":90710439.73335661,"date":"2016-10-07T04:00:00.000Z","SAR":210.33556670421976},{"open":213.962575,"high":214.49707856506274,"low":213.79430416767977,"close":213.962575,"volume":52387558.933706045,"date":"2016-10-10T04:00:00.000Z","SAR":210.4352282286498},{"open":213.4676582651683,"high":213.54684599498432,"low":210.41896679620203,"close":211.260317,"volume":131706293.28094874,"date":"2016-10-11T04:00:00.000Z","SAR":215.31864292572203},{"open":211.418693002102,"high":212.1412828910833,"low":210.8445881486148,"close":211.537484,"volume":74624716.38389486,"date":"2016-10-12T04:00:00.000Z","SAR":215.22064940313163},{"open":210.00323779857536,"high":211.41869285308255,"low":209.06289823344727,"close":210.844588,"volume":102397952.2927807,"date":"2016-10-13T04:00:00.000Z","SAR":215.12461575099303},{"open":211.97299828568023,"high":212.50751669831328,"low":210.8643888770105,"close":210.95347,"volume":94304880.01581106,"date":"2016-10-14T04:00:00.000Z","SAR":214.8821470502912},{"open":210.92377640911153,"high":211.22072965366488,"low":210.0131308786248,"close":210.221003,"volume":58874200.39271005,"date":"2016-10-17T04:00:00.000Z","SAR":214.64937709761745},{"open":212.06209417160062,"high":212.1313756400983,"low":211.10195396151917,"close":211.537484,"volume":77659163.82501693,"date":"2016-10-18T04:00:00.000Z","SAR":214.42591794305065},{"open":211.8443300442928,"high":212.45802232983172,"low":211.42860163915762,"close":212.101682,"volume":67202362.44746423,"date":"2016-10-19T04:00:00.000Z","SAR":214.2113971546665},{"open":211.69584575917335,"high":212.34914032246374,"low":210.9435776693841,"close":211.705754,"volume":74396092.1921801,"date":"2016-10-20T04:00:00.000Z","SAR":214.00545719781775},{"open":211.70575348390813,"high":211.90371736360564,"low":210.59712923004432,"close":211.804728,"volume":90004059.1239474,"date":"2016-10-21T04:00:00.000Z","SAR":213.80775483924293},{"open":212.81436375733801,"high":213.1311176461887,"low":212.29964598798327,"close":212.705481,"volume":60764314.83142364,"date":"2016-10-24T04:00:00.000Z","SAR":213.6179605750111},{"open":212.4976095175124,"high":212.7945627615349,"low":211.80472851313564,"close":211.992799,"volume":67225699.7649972,"date":"2016-10-25T04:00:00.000Z","SAR":213.43575808134855},{"open":211.0425678260382,"high":212.24025836261043,"low":210.76540037776155,"close":211.567178,"volume":76483006.96494377,"date":"2016-10-26T04:00:00.000Z","SAR":213.2608436874325},{"open":212.39863525122297,"high":212.4382216923658,"low":210.9138838768762,"close":211.002965,"volume":78013263.36603658,"date":"2016-10-27T04:00:00.000Z","SAR":213.0929258692731},{"open":210.97327149023022,"high":211.75523461033728,"low":209.55781642848532,"close":210.379365,"volume":142067421.6011518,"date":"2016-10-28T04:00:00.000Z","SAR":212.93172476384007},{"open":210.76540011700254,"high":211.02276593074686,"low":210.201202512659,"close":210.389273,"volume":61901777.94291584,"date":"2016-10-31T04:00:00.000Z","SAR":212.77697170262437},{"open":210.76539876992823,"high":210.82480070261408,"low":207.46926360331656,"close":208.864919,"volume":124042788.6508361,"date":"2016-11-01T04:00:00.000Z","SAR":212.6284087638573},{"open":208.50857928130094,"high":208.95401657278998,"low":207.10301662288336,"close":207.607841,"volume":104392022.98074088,"date":"2016-11-02T04:00:00.000Z","SAR":212.31886005422484},{"open":207.85529837730272,"high":208.10275693893436,"low":206.34085395978542,"close":206.657593,"volume":89852720.60659635,"date":"2016-11-03T04:00:00.000Z","SAR":211.90159257971752},{"open":206.7862773201674,"high":207.75630993690305,"low":206.26166615701118,"close":206.429936,"volume":110242800.64867288,"date":"2016-11-04T04:00:00.000Z","SAR":211.3455187177243},{"open":206.42993536818722,"high":211.0227652885898,"low":206.42993536818722,"close":210.983164,"volume":110922510.74702151,"date":"2016-11-07T05:00:00.000Z","SAR":206.26166615701118},{"open":210.52784835654091,"high":212.5867055737095,"low":210.22100270891627,"close":211.933412,"volume":107868666.02125058,"date":"2016-11-08T05:00:00.000Z","SAR":206.26166615701118},{"open":210.2110947584935,"high":214.89302164995345,"low":210.18140072082278,"close":214.18034,"volume":261083105.53688076,"date":"2016-11-09T05:00:00.000Z","SAR":206.42993536818722},{"open":215.0909849632422,"high":216.0907126041017,"low":213.03212774865895,"close":214.714843,"volume":173880930.49428073,"date":"2016-11-10T05:00:00.000Z","SAR":206.93772054509319},{"open":213.88338631497376,"high":214.49707859964133,"low":213.1311172355684,"close":214.219926,"volume":101585391.8878424,"date":"2016-11-11T05:00:00.000Z","SAR":207.66995990981385},{"open":214.8237260389986,"high":215.06129120789484,"low":213.52704515266805,"close":214.388196,"volume":95551351.25853665,"date":"2016-11-14T05:00:00.000Z","SAR":208.3436201253569},{"open":214.83361859156352,"high":216.061019,"low":214.59606827001613,"close":216.061019,"volume":92593886.34257714,"date":"2016-11-15T05:00:00.000Z","SAR":208.96338752365648},{"open":215.34833735214266,"high":215.92244220671515,"low":215.20976055720584,"close":215.655183,"volume":66291603.90228831,"date":"2016-11-16T05:00:00.000Z","SAR":209.5335735300921},{"open":215.83336182257005,"high":216.8330894688659,"low":215.7046784205169,"close":216.763808,"volume":70514027.77065994,"date":"2016-11-17T05:00:00.000Z","SAR":210.05814465601287},{"open":216.8429954497093,"high":217.0409593296345,"low":216.07091087926096,"close":216.278783,"volume":87151763.28692399,"date":"2016-11-18T05:00:00.000Z","SAR":210.73563913729816},{"open":216.9419703952206,"high":217.9416980376387,"low":216.77370055254238,"close":217.912004,"volume":73146185.90531799,"date":"2016-11-21T05:00:00.000Z","SAR":211.4922775603785},{"open":218.2683446739283,"high":218.54549628318762,"low":217.49627495174943,"close":218.33764,"volume":68121506.46520683,"date":"2016-11-22T05:00:00.000Z","SAR":212.39519642719495},{"open":217.74373435018367,"high":218.51580407533,"low":217.5160764320264,"close":218.456416,"volume":57201698.16454098,"date":"2016-11-23T05:00:00.000Z","SAR":213.37924440415378},{"open":218.85235859470518,"high":219.30767443099103,"low":218.7632626240363,"close":219.268087,"volume":38261254.34974584,"date":"2016-11-25T05:00:00.000Z","SAR":214.2058447047992},{"open":218.91174620719153,"high":219.22848524781992,"low":218.11987583943286,"close":218.238651,"volume":77358911.52346794,"date":"2016-11-28T05:00:00.000Z","SAR":215.12417405551372},{"open":218.27825264272394,"high":219.18889817252722,"low":217.93180471641938,"close":218.664288,"volume":70604447.19965795,"date":"2016-11-29T05:00:00.000Z","SAR":215.87720412309963},{"open":219.3769698127032,"high":219.5650402999026,"low":218.07038167364885,"close":218.139677,"volume":114455324.19331034,"date":"2016-11-30T05:00:00.000Z","SAR":216.49468877852007},{"open":218.48610984075955,"high":218.48610984075955,"low":216.92216974753987,"close":217.337913,"volume":79852258.16668029,"date":"2016-12-01T05:00:00.000Z","SAR":219.5650402999026},{"open":217.4368876066763,"high":218.0109934510513,"low":217.031052594881,"close":217.446781,"volume":75608921.4312991,"date":"2016-12-02T05:00:00.000Z","SAR":219.5650402999026},{"open":218.40692107389043,"high":219.149296760542,"low":218.1792631559876,"close":218.753369,"volume":68534504.7188736,"date":"2016-12-05T05:00:00.000Z","SAR":219.51218288885534},{"open":218.97113351989017,"high":219.48585128862788,"low":218.41682931003828,"close":219.44625,"volume":60492350.17854167,"date":"2016-12-06T05:00:00.000Z","SAR":216.92216974753987},{"open":219.26808653703736,"high":222.3860584786736,"low":219.12951073217644,"close":222.316778,"volume":111875397.5663888,"date":"2016-12-07T05:00:00.000Z","SAR":216.97344337836162},{"open":222.2870840040006,"high":223.40558680590718,"low":221.98022350910713,"close":222.861175,"volume":100738482.4284158,"date":"2016-12-08T05:00:00.000Z","SAR":217.1899479823741},{"open":223.1185412384535,"high":224.22715064424708,"low":223.07893896012513,"close":224.20735,"volume":88909633.50653313,"date":"2016-12-09T05:00:00.000Z","SAR":217.5628863117861},{"open":224.09846819845305,"high":224.65278824614361,"low":223.46497526846412,"close":223.949999,"volume":103063821.06748748,"date":"2016-12-12T05:00:00.000Z","SAR":218.09602745838296},{"open":224.71217456620764,"high":226.01874785271855,"low":224.69237392194358,"close":225.444643,"volume":111612121.32954739,"date":"2016-12-13T05:00:00.000Z","SAR":218.75170353715902},{"open":225.09821041036835,"high":225.9098665754631,"low":223.07893963492327,"close":223.583765,"volume":143965315.62347114,"date":"2016-12-14T05:00:00.000Z","SAR":219.62374885502615},{"open":223.8609176772587,"high":225.49413824884118,"low":223.59365748090033,"close":224.504304,"volume":126256087.97261545,"date":"2016-12-15T05:00:00.000Z","SAR":220.39114873474924},{"open":225.03101335327509,"high":225.10071711195985,"low":223.6968206650254,"close":224.065213,"volume":157100695.1135186,"date":"2016-12-16T05:00:00.000Z","SAR":221.06646062890556},{"open":224.2743098402621,"high":225.04097850030314,"low":224.10504820153082,"close":224.553096,"volume":90734122.82259916,"date":"2016-12-19T05:00:00.000Z","SAR":221.66073509576313},{"open":225.1704048975552,"high":225.5885985733518,"low":224.90158537926735,"close":225.419322,"volume":90229637.81679372,"date":"2016-12-20T05:00:00.000Z","SAR":222.1836966265978},{"open":225.26997785432116,"high":225.46910854939708,"low":224.792061,"close":224.792061,"volume":68204433.61492202,"date":"2016-12-21T05:00:00.000Z","SAR":222.6439027737323},{"open":224.6227990456496,"high":224.76219162724198,"low":223.94573656217858,"close":224.403751,"volume":56463677.55722363,"date":"2016-12-22T05:00:00.000Z","SAR":223.04888418321065},{"open":224.4535229055827,"high":224.74227471009883,"low":224.23448979453653,"close":224.732324,"volume":36857451.3334566,"date":"2016-12-23T05:00:00.000Z","SAR":223.40526782355158},{"open":225.0409788965204,"high":225.74789550505517,"low":225.02106154556836,"close":225.289896,"volume":42858143.73890074,"date":"2016-12-27T05:00:00.000Z","SAR":223.71888542705162},{"open":225.58859839116528,"high":225.6085008069923,"low":223.29855806351733,"close":223.427985,"volume":64373841.152575396,"date":"2016-12-28T05:00:00.000Z","SAR":226.01874785271855},{"open":223.50764093675642,"high":223.9158679723048,"low":222.87041315366469,"close":223.378214,"volume":48907949.130511895,"date":"2016-12-29T05:00:00.000Z","SAR":225.96434405693452},{"open":223.7565581066502,"high":223.85613092179864,"low":221.76522128389112,"close":222.561759,"volume":109472489.79103234,"date":"2016-12-30T05:00:00.000Z","SAR":225.84058682080374}]
`;

export default class App extends React.Component {
  constructor(props) {
    super(props);

    this.marketData = JSON.parse(marketData);

    let prevSarHigher = false;

    const bt = new Backtest(this.marketData, 5, 0.90);
    bt.setTradingLogic(bar => {
      if (bt.getCurrentLongPosition) {
        bt.clearStop();
        bt.longStop(bar.SAR);
      } else if (bt.getCurrentShortPosition) {
        bt.clearStop();
        bt.shortStop(bar.SAR);
      }
      if (bar.SAR > bar.high && bar.SAR > bar.low) {
        if (!prevSarHigher) {
          prevSarHigher = !prevSarHigher;
          if (bt.getCurrentLongPosition) {
            bt.clearStop();
            bt.closeLong(bar);
          }
          bt.openShort(bar);
          bt.shortStop(bar.SAR);
        }
      } else {
        if (prevSarHigher) {
          prevSarHigher = !prevSarHigher;
          if (bt.getCurrentShortPosition) {
            bt.clearStop();
            bt.closeShort(bar);
          }
          bt.openLong(bar);
          bt.longStop(bar.SAR);
        }
      }
    });

  }

  render() {
    return (
      <div>
        <header className="demo-header mdl-layout__header mdl-layout__header--scroll mdl-color--grey-100 mdl-color-text--grey-800">
          <div className="mdl-layout__header-row">
            <span className="mdl-layout-title logo">Trading<span>Rhino</span></span>
            <div className="mdl-layout-spacer"></div>
            <div className="mdl-textfield mdl-js-textfield mdl-textfield--expandable">
              <label className="mdl-button mdl-js-button mdl-button--icon" for="search">
                <i className="material-icons">play_circle_filled</i>
              </label>
              <div className="mdl-textfield__expandable-holder">
                <input className="mdl-textfield__input" type="text" id="search"/>
                <label className="mdl-textfield__label" for="search">Enter your query...</label>
              </div>
            </div>
          </div>
        </header>
        <div className="mdl-grid">
          <div className="bodyHeight mdl-cell mdl-cell--6-col mdl-grid cardShadow">
            <div className="editorCont">
              <AceEditor
                mode="javascript"
                theme="github"
                name="editor"
                editorProps={{$blockScrolling: true}}
              />
            </div>
          </div>
          <div className="bodyHeight mdl-cell mdl-cell--6-col noMar">
            <div className="halfHeight mdl-cell mdl-cell--12-col cardShadow">

            </div>
            <div className="halfHeight mdl-cell mdl-cell--12-col cardShadow">

            </div>
          </div>
        </div>
      </div>
    );
  }
}
